###
### File managed by Puppet
###

################################################################################
# AGENT BEHAVIOUR

#agentaddress udp:127.0.0.1:161

################################################################################
# ACCESS CONTROL

# ------------------------------------------------------------------------------
# Traditional Access Control
#rocommunity <%= @ro_community %> <%= @ro_network %>
<% if @rw_community -%>
#rwcommunity <%= @rw_community %> <%= @rw_network %>
<% end -%>

# ------------------------------------------------------------------------------
# VACM Configuration
#       sec.name       source        community
com2sec notConfigUser  default       <%= @ro_community %>

#       groupName      securityModel securityName
group   notConfigGroup v1            notConfigUser
group   notConfigGroup v2c           notConfigUser

#       name          incl/excl  subtree             mask(optional)
<% @views.each do |view| -%>
<%= view %>
<% end %>

#       group          context sec.model sec.level prefix read       write notif
<% @accesses.each do |access| -%>
<%= access %>
<% end %>

# ------------------------------------------------------------------------------
# Typed-View Configuration

################################################################################
# SYSTEM INFORMATION

# ------------------------------------------------------------------------------
# System Group
syslocation <%= @location %>
syscontact <%= @contact %>
sysservices <%= @services %>

################################################################################
# EXTENDING AGENT FUNCTIONALITY

<% if @dlmod.any? -%>
# ------------------------------------------------------------------------------
# Dynamically Loadable Modules
<% @dlmod.each do |mod| -%>
dlmod <%= mod %>
<% end -%>

<% end -%>
# ------------------------------------------------------------------------------
# AgentX Sub-Agents
#master agentx

################################################################################
# OTHER CONFIGURATION

#dontLogTCPWrappersConnects yes
<% @snmpd_config.each do |line| -%>
<%= line %>
<% end -%>
